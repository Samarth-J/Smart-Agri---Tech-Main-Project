<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Disease Detection - AgriTech</title>
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="disease-prediction.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-microscope"></i>
                <h1>AI Plant Disease Detection</h1>
            </div>
            <a href="main.html" class="nav-back">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
        </div>
    </header>

    <div class="container">
        <div class="page-title">
            <h1>üî¨ Plant Disease Detection with AI Vision</h1>
            <p>Upload a photo of your plant and get instant AI-powered disease diagnosis using Llama 3.2 Vision</p>
        </div>

        <!-- Upload Section -->
        <div class="upload-section">
            <div class="upload-card">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <h3>Upload Plant Image</h3>
                <p>Take a clear photo of the affected plant leaf or stem</p>
                
                <input type="file" id="imageInput" accept="image/*" style="display: none;">
                <button class="btn-upload" onclick="document.getElementById('imageInput').click()">
                    <i class="fas fa-image"></i> Choose Image
                </button>
                
                <div class="upload-tips">
                    <h4>üì∏ Tips for best results:</h4>
                    <ul>
                        <li>Use good lighting</li>
                        <li>Focus on affected areas</li>
                        <li>Avoid blurry images</li>
                        <li>Include the whole leaf if possible</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Preview Section -->
        <div class="preview-section" id="previewSection" style="display: none;">
            <div class="preview-card">
                <h3>Image Preview</h3>
                <div class="image-preview">
                    <img id="imagePreview" alt="Plant preview">
                </div>
                <button class="btn-analyze" id="analyzeBtn">
                    <i class="fas fa-brain"></i> Analyze with AI Vision (3-10 min)
                </button>
                <button class="btn-secondary" id="quickAnalyzeBtn" style="margin-top: 1rem;">
                    <i class="fas fa-bolt"></i> Quick General Guide (30 sec)
                </button>
                <p style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
                    üí° Use Quick Guide for instant general disease information, or Vision Analysis for specific image analysis
                </p>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="resultsSection" style="display: none;">
            <div class="results-card">
                <div class="loading" id="loadingDiv">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>AI is analyzing your plant image...</p>
                    <small>‚è±Ô∏è Vision AI analysis takes 3-10 minutes. Please be patient...</small>
                    <div style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
                        <p>üí° The AI is:</p>
                        <ul style="text-align: left; margin-top: 0.5rem;">
                            <li>Loading the vision model (7.8 GB) - first time is slowest</li>
                            <li>Processing your image with deep learning</li>
                            <li>Analyzing plant health indicators</li>
                            <li>Generating detailed recommendations</li>
                        </ul>
                        <p style="margin-top: 1rem; font-weight: bold;">‚ö†Ô∏è Do not close this page!</p>
                    </div>
                </div>
                
                <div class="results-content" id="resultsContent" style="display: none;">
                    <h3><i class="fas fa-check-circle"></i> Analysis Complete</h3>
                    <div class="diagnosis" id="diagnosisDiv"></div>
                    
                    <div class="action-buttons">
                        <button class="btn-secondary" onclick="resetAnalysis()">
                            <i class="fas fa-redo"></i> Analyze Another Image
                        </button>
                        <button class="btn-primary" onclick="downloadReport()">
                            <i class="fas fa-download"></i> Download Report
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Section -->
        <div class="info-section">
            <div class="info-card">
                <i class="fas fa-robot"></i>
                <h3>Powered by Llama 3.2 Vision</h3>
                <p>Advanced AI model trained to identify plant diseases with high accuracy</p>
            </div>
            <div class="info-card">
                <i class="fas fa-shield-alt"></i>
                <h3>100% Private</h3>
                <p>All analysis happens locally on your device. Your images never leave your computer</p>
            </div>
            <div class="info-card">
                <i class="fas fa-bolt"></i>
                <h3>Instant Results</h3>
                <p>Get detailed diagnosis and treatment recommendations in seconds</p>
            </div>
        </div>
    </div>

    <script src="disease-prediction.js"></script>
</body>
</html>
